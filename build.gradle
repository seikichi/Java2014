defaultTasks 'test'

apply plugin: 'checkstyle'
apply plugin: 'java'
apply plugin: 'watch'

def srcDirList = ['JPL']

sourceSets {
  main { java { srcDirs = srcDirList; exclude '**/*Test.java' } }
  test { java { srcDirs = srcDirList; include '**/*Test.java' } }
}

dependencies {
  testCompile files('lib/junit-4.11.jar')
  testCompile files('lib/hamcrest-all-1.3.jar')
  checkstyle files('lib/checkstyle-5.9-all.jar')
}

buildscript {
  dependencies {
    classpath files('lib/gradle-watch-plugin-0.1.3.jar')
  }
}

watch {
  java {
    files files('src/')
    tasks 'check', 'test'
  }
}